{"ast":null,"code":"import _classCallCheck from \"/home/ialberdi/projects/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ialberdi/projects/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ialberdi/projects/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ialberdi/projects/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ialberdi/projects/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ialberdi/projects/weather/src/web/forms/FlagInputCountry.js\";\nimport React, { Component, Fragment } from 'react';\nimport ReactCustomFlagSelect from 'react-custom-flag-select';\nimport \"react-custom-flag-select/lib/react-custom-flag-select.min.css\";\nimport { Textbox } from 'react-inputs-validation';\nimport 'react-inputs-validation/lib/react-inputs-validation.min.css';\nimport validator from 'validator';\nvar FLAG_SELECTOR_OPTION_LIST = [{\n  id: '1',\n  name: 'US',\n  displayText: 'US(1)',\n  locale: 'en-US',\n  flag: require('../image/flags/us.svg')\n}, {\n  id: '86',\n  name: '中国',\n  displayText: '中国(86)',\n  locale: 'zh-CN',\n  flag: require('../image/flags/cn.svg')\n}];\nvar DEFAULT_AREA_CODE = FLAG_SELECTOR_OPTION_LIST[0].id;\n\nvar find = function find(arr, obj) {\n  var res = [];\n  arr.filter(function (o) {\n    Object.keys(obj).map(function (i) {\n      if (obj[i] === o[i]) {\n        return res.push(o);\n      }\n\n      return null;\n    });\n    return null;\n  });\n  return res;\n};\n\nvar FlagsInputCode =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FlagsInputCode, _Component);\n\n  function FlagsInputCode(props) {\n    var _this;\n\n    _classCallCheck(this, FlagsInputCode);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FlagsInputCode).call(this, props));\n    _this.state = {\n      areaCode: DEFAULT_AREA_CODE,\n      phone: '',\n      hasPhoneError: true,\n      validate: false\n    };\n    return _this;\n  }\n\n  _createClass(FlagsInputCode, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          value = _this$props.value,\n          onSubmit = _this$props.onSubmit,\n          onInputChange = _this$props.onInputChange;\n      var _this$state = this.state,\n          areaCode = _this$state.areaCode,\n          phone = _this$state.phone,\n          validate = _this$state.validate;\n      var currentItem = find(FLAG_SELECTOR_OPTION_LIST, {\n        id: areaCode\n      })[0];\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          left: '15px',\n          top: '10px',\n          zIndex: '1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(ReactCustomFlagSelect, {\n        tabIndex: '1',\n        id: 'areaCode',\n        name: 'areaCode',\n        value: currentItem.id,\n        disabled: false,\n        optionList: FLAG_SELECTOR_OPTION_LIST,\n        classNameWrapper: '',\n        classNameContainer: '',\n        classNameOptionListItem: '',\n        classNameOptionListContainer: '',\n        classNameDropdownIconOptionListItem: '',\n        customStyleWrapper: {},\n        customStyleContainer: {\n          border: 'none',\n          fontSize: '12px'\n        },\n        customStyleSelect: {\n          width: '60px'\n        },\n        customStyleOptionListItem: {},\n        customStyleOptionListContainer: {\n          maxHeight: '100px',\n          overflow: 'auto',\n          width: '120px',\n          marginTop: '22%',\n          left: '46px'\n        },\n        customStyleDropdownIcon: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(Textbox, {\n        tabIndex: \"1\",\n        id: \"phone\",\n        customStyleWrapper: {\n          height: '100%'\n        },\n        customStyleContainer: {\n          height: '100%'\n        },\n        customStyleInput: {\n          paddingTop: '0',\n          paddingBottom: '0',\n          height: '45px',\n          paddingLeft: '90px',\n          paddingRight: '20px'\n        },\n        value: phone,\n        validate: validate,\n        validationCallback: function validationCallback(res) {\n          return _this2.setState({\n            hasPhoneError: res,\n            validate: false\n          });\n        },\n        type: \"text\",\n        placeholder: \"Please enter a mobile number\",\n        onChange: function onChange(res) {\n          onInputChange(res);\n        },\n        onBlur: function onBlur() {},\n        validationOption: {\n          check: true,\n          required: true,\n          customFunc: function customFunc(phone) {\n            if (validator.isMobilePhone(areaCode + phone, currentItem.locale)) {\n              _this2.setState({\n                phone: phone\n              });\n\n              return true;\n            } else {\n              return 'Invalid phone format for ' + currentItem.locale;\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          height: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), value ? React.createElement(\"article\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Satsus Code: \", value) : React.createElement(\"article\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          onSubmit(phone);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Add mobile number\"));\n    }\n  }]);\n\n  return FlagsInputCode;\n}(Component);\n\nexport default FlagsInputCode;","map":{"version":3,"sources":["/home/ialberdi/projects/weather/src/web/forms/FlagInputCountry.js"],"names":["React","Component","Fragment","ReactCustomFlagSelect","Textbox","validator","FLAG_SELECTOR_OPTION_LIST","id","name","displayText","locale","flag","require","DEFAULT_AREA_CODE","find","arr","obj","res","filter","o","Object","keys","map","i","push","FlagsInputCode","props","state","areaCode","phone","hasPhoneError","validate","value","onSubmit","onInputChange","currentItem","position","left","top","zIndex","border","fontSize","width","maxHeight","overflow","marginTop","height","paddingTop","paddingBottom","paddingLeft","paddingRight","setState","check","required","customFunc","isMobilePhone"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport ReactCustomFlagSelect from 'react-custom-flag-select';\nimport \"react-custom-flag-select/lib/react-custom-flag-select.min.css\";\nimport { Textbox } from 'react-inputs-validation';\nimport 'react-inputs-validation/lib/react-inputs-validation.min.css';\nimport validator from 'validator';\n\nconst FLAG_SELECTOR_OPTION_LIST = [\n    { id: '1', name: 'US', displayText: 'US(1)', locale: 'en-US', flag: require('../image/flags/us.svg') },\n    { id: '86', name: '中国', displayText: '中国(86)', locale: 'zh-CN', flag: require('../image/flags/cn.svg') }\n];\n\nconst DEFAULT_AREA_CODE = FLAG_SELECTOR_OPTION_LIST[0].id;\n\nconst find = (arr, obj) => {\n    const res = [];\n    arr.filter(o => {\n        Object.keys(obj).map(i => {\n            if (obj[i] === o[i]) {\n                return res.push(o);\n            }\n            return null;\n        });\n       return null\n    });\n    return res;\n};\n\nclass FlagsInputCode extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { areaCode: DEFAULT_AREA_CODE, phone: '', hasPhoneError: true, validate: false };\n    }\n\n    render() {\n        const { value, onSubmit, onInputChange } = this.props;\n        const { areaCode, phone, validate } = this.state;\n        const currentItem = find(FLAG_SELECTOR_OPTION_LIST, { id: areaCode })[0];\n        return (\n            <Fragment>\n                <div style={{ position: 'relative' }}>\n                    <div style={{ position: 'absolute', left: '15px', top: '10px', zIndex: '1' }}>\n                        <ReactCustomFlagSelect\n                            tabIndex={'1'}\n                            id={'areaCode'}\n                            name={'areaCode'}\n                            value={currentItem.id}\n                            disabled={false}\n                            optionList={FLAG_SELECTOR_OPTION_LIST}\n                            classNameWrapper={''}\n                            classNameContainer={''}\n                            classNameOptionListItem={''}\n                            classNameOptionListContainer={''}\n                            classNameDropdownIconOptionListItem={''}\n                            customStyleWrapper={{}}\n                            customStyleContainer={{ border: 'none', fontSize: '12px' }}\n                            customStyleSelect={{ width: '60px' }}\n                            customStyleOptionListItem={{}}\n                            customStyleOptionListContainer={{ maxHeight: '100px', overflow: 'auto', width: '120px', marginTop: '22%', left: '46px' }}\n                            customStyleDropdownIcon={{}}\n                        />\n                    </div>\n                    <Textbox\n                        tabIndex=\"1\"\n                        id=\"phone\"\n                        customStyleWrapper={{ height: '100%' }}\n                        customStyleContainer={{ height: '100%' }}\n                        customStyleInput={{\n                            paddingTop: '0',\n                            paddingBottom: '0',\n                            height: '45px',\n                            paddingLeft: '90px',\n                            paddingRight: '20px'\n                        }}\n                        value={phone}\n                        validate={validate}\n                        validationCallback={res =>\n                            this.setState({\n                                hasPhoneError: res,\n                                validate: false\n                            })\n                        }\n                        type=\"text\"\n                        placeholder=\"Please enter a mobile number\"\n                        onChange={res => {\n                            onInputChange(res);\n                        }}\n                        onBlur={() => { }}\n                        validationOption={{\n                            check: true,\n                            required: true,\n                            customFunc: phone => {\n                                if (validator.isMobilePhone(areaCode + phone, currentItem.locale)) {\n                                    this.setState({\n                                        phone: phone\n                                    })\n                                    return true;\n                                } else {\n                                    return 'Invalid phone format for ' + currentItem.locale;\n                                }\n                            }\n                        }}\n                    />\n                </div>\n                <div style={{ height: '20px' }} />\n                {value ?\n                    <article>Satsus Code: {value}</article>\n                    :\n                    <article></article>\n                }\n                <button onClick={() => { onSubmit(phone)}}>Add mobile number</button>\n            </Fragment>\n        )\n    }\n}\n\nexport default FlagsInputCode;"]},"metadata":{},"sourceType":"module"}