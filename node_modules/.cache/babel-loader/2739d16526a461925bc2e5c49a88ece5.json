{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _message = _interopRequireDefault(require(\"./message\"));\n\nvar _const = require(\"./const\");\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useCallback = React.useCallback,\n    useRef = React.useRef,\n    memo = React.memo;\nvar reactInputsValidationCss = {\n  \"ellipsis\": \"react-inputs-validation__ellipsis___3-Api\",\n  \"textbox__wrapper\": \"react-inputs-validation__textbox__wrapper___3tnXv\",\n  \"textbox__container\": \"react-inputs-validation__textbox__container___3KXOM\",\n  \"textbox__input\": \"react-inputs-validation__textbox__input___20hDL\",\n  \"error\": \"react-inputs-validation__error___2aXSp\",\n  \"success\": \"react-inputs-validation__success___3TpwE\",\n  \"disabled\": \"react-inputs-validation__disabled___1-57g\",\n  \"msg\": \"react-inputs-validation__msg___pxv8o\",\n  \"textarea__wrapper\": \"react-inputs-validation__textarea__wrapper___35GhF\",\n  \"textarea__container\": \"react-inputs-validation__textarea__container___2fbGp\",\n  \"textarea__input\": \"react-inputs-validation__textarea__input___1CFm_\",\n  \"radiobox__wrapper\": \"react-inputs-validation__radiobox__wrapper___1zZ30\",\n  \"radiobox__container\": \"react-inputs-validation__radiobox__container___FD4vb\",\n  \"radiobox__input\": \"react-inputs-validation__radiobox__input___2uX2-\",\n  \"radiobox__label\": \"react-inputs-validation__radiobox__label___2tQsB\",\n  \"checked\": \"react-inputs-validation__checked___2O0Ju\",\n  \"radiobox__item\": \"react-inputs-validation__radiobox__item___ejuz1\",\n  \"checkbox__wrapper\": \"react-inputs-validation__checkbox__wrapper___1c1rD\",\n  \"checkbox__input\": \"react-inputs-validation__checkbox__input___1yF4X\",\n  \"checkbox__container\": \"react-inputs-validation__checkbox__container___3I1rX\",\n  \"checkbox__box\": \"react-inputs-validation__checkbox__box___1uj8A\",\n  \"box\": \"react-inputs-validation__box___3E9nu\",\n  \"select__wrapper\": \"react-inputs-validation__select__wrapper___1B4OH\",\n  \"select__input\": \"react-inputs-validation__select__input___3h-P7\",\n  \"select__container\": \"react-inputs-validation__select__container___3jgUR\",\n  \"select__options-item\": \"react-inputs-validation__select__options-item___30yY4\",\n  \"select__options-item-show-cursor\": \"react-inputs-validation__select__options-item-show-cursor___1ZT3b\",\n  \"select__no-mouse\": \"react-inputs-validation__select__no-mouse___2uRg6\",\n  \"select__hover-active\": \"react-inputs-validation__select__hover-active___2z1MQ\",\n  \"active\": \"react-inputs-validation__active___3eZBB\",\n  \"select__options-container-animate\": \"react-inputs-validation__select__options-container-animate___2Rm--\",\n  \"show\": \"react-inputs-validation__show___2NI3u\",\n  \"select__options-container\": \"react-inputs-validation__select__options-container___d54qE\",\n  \"select__dropdown\": \"react-inputs-validation__select__dropdown___11yDr\",\n  \"select__dropdown-icon\": \"react-inputs-validation__select__dropdown-icon___1T5r2\",\n  \"select__dropdown-name\": \"react-inputs-validation__select__dropdown-name___3hghL\",\n  \"select__dropdown-icon-container\": \"react-inputs-validation__select__dropdown-icon-container___2ild-\"\n};\nvar TYPE = 'checkbox';\n\nvar getDefaultValidationOption = function getDefaultValidationOption(obj) {\n  var name = obj.name,\n      check = obj.check,\n      required = obj.required,\n      showMsg = obj.showMsg,\n      locale = obj.locale,\n      msgOnError = obj.msgOnError,\n      msgOnSuccess = obj.msgOnSuccess;\n  locale = typeof locale !== 'undefined' ? locale : _const.DEFAULT_LOCALE;\n  name = typeof name !== 'undefined' ? name : '';\n  check = typeof check !== 'undefined' ? check : true;\n  showMsg = typeof showMsg !== 'undefined' ? showMsg : true;\n  required = typeof required !== 'undefined' ? required : true;\n  msgOnSuccess = typeof msgOnSuccess !== 'undefined' ? msgOnSuccess : '';\n  msgOnError = typeof msgOnError !== 'undefined' ? msgOnError : '';\n  return {\n    name: name,\n    check: check,\n    showMsg: showMsg,\n    required: required,\n    locale: locale,\n    msgOnError: msgOnError,\n    msgOnSuccess: msgOnSuccess\n  };\n};\n\nvar getDefaultAsyncObj = function getDefaultAsyncObj(obj) {\n  var error = obj.error,\n      message = obj.message,\n      showOnError = obj.showOnError,\n      showOnSuccess = obj.showOnSuccess;\n  error = typeof error !== 'undefined' ? error : false;\n  message = typeof message !== 'undefined' ? message : '';\n  showOnError = typeof showOnError !== 'undefined' ? showOnError : true;\n  showOnSuccess = typeof showOnSuccess !== 'undefined' ? showOnSuccess : false;\n  return {\n    error: error,\n    message: message,\n    showOnError: showOnError,\n    showOnSuccess: showOnSuccess\n  };\n};\n\nvar component = function component(_ref) {\n  var _ref$tabIndex = _ref.tabIndex,\n      tabIndex = _ref$tabIndex === void 0 ? null : _ref$tabIndex,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? _utils[\"default\"].getRandomId() : _ref$id,\n      _ref$name = _ref.name,\n      name = _ref$name === void 0 ? '' : _ref$name,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value,\n      _ref$checked = _ref.checked,\n      checked = _ref$checked === void 0 ? false : _ref$checked,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$validate = _ref.validate,\n      validate = _ref$validate === void 0 ? false : _ref$validate,\n      _ref$labelHtml = _ref.labelHtml,\n      labelHtml = _ref$labelHtml === void 0 ? null : _ref$labelHtml,\n      _ref$classNameInput = _ref.classNameInput,\n      classNameInput = _ref$classNameInput === void 0 ? '' : _ref$classNameInput,\n      _ref$classNameWrapper = _ref.classNameWrapper,\n      classNameWrapper = _ref$classNameWrapper === void 0 ? '' : _ref$classNameWrapper,\n      _ref$classNameInputBo = _ref.classNameInputBox,\n      classNameInputBox = _ref$classNameInputBo === void 0 ? '' : _ref$classNameInputBo,\n      _ref$classNameContain = _ref.classNameContainer,\n      classNameContainer = _ref$classNameContain === void 0 ? '' : _ref$classNameContain,\n      _ref$customStyleInput = _ref.customStyleInput,\n      customStyleInput = _ref$customStyleInput === void 0 ? {} : _ref$customStyleInput,\n      _ref$customStyleWrapp = _ref.customStyleWrapper,\n      customStyleWrapper = _ref$customStyleWrapp === void 0 ? {} : _ref$customStyleWrapp,\n      _ref$customStyleInput2 = _ref.customStyleInputBox,\n      customStyleInputBox = _ref$customStyleInput2 === void 0 ? {} : _ref$customStyleInput2,\n      _ref$customStyleConta = _ref.customStyleContainer,\n      customStyleContainer = _ref$customStyleConta === void 0 ? {} : _ref$customStyleConta,\n      _ref$validationOption = _ref.validationOption,\n      validationOption = _ref$validationOption === void 0 ? {} : _ref$validationOption,\n      _ref$asyncMsgObj = _ref.asyncMsgObj,\n      asyncMsgObj = _ref$asyncMsgObj === void 0 ? {} : _ref$asyncMsgObj,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange,\n      _ref$onBlur = _ref.onBlur,\n      onBlur = _ref$onBlur === void 0 ? null : _ref$onBlur,\n      _ref$onFocus = _ref.onFocus,\n      onFocus = _ref$onFocus === void 0 ? null : _ref$onFocus,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === void 0 ? null : _ref$onClick,\n      _ref$validationCallba = _ref.validationCallback,\n      validationCallback = _ref$validationCallba === void 0 ? null : _ref$validationCallba;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      err = _useState2[0],\n      setErr = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      msg = _useState4[0],\n      setMsg = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      successMsg = _useState6[0],\n      setSuccessMsg = _useState6[1];\n\n  var _useState7 = useState(checked),\n      _useState8 = _slicedToArray(_useState7, 2),\n      internalChecked = _useState8[0],\n      setInternalChecked = _useState8[1];\n\n  var prevInternalChecked = (0, _const.usePrevious)(internalChecked);\n  var option = getDefaultValidationOption(validationOption);\n  var asyncObj = getDefaultAsyncObj(asyncMsgObj);\n  var $input = useRef(null);\n  var $el = $input;\n  var handleOnBlur = useCallback(function (e) {\n    if (onBlur) {\n      check();\n      onBlur(e);\n    }\n  }, [internalChecked]);\n  var handleOnFocus = useCallback(function (e) {\n    if (onFocus) {\n      onFocus(e);\n    }\n  }, [internalChecked]);\n  var handleOnClick = useCallback(function (e) {\n    handleOnChange(e);\n\n    if (onClick) {\n      onClick(e);\n    }\n  }, [err, internalChecked]);\n  var handleOnChange = useCallback(function (e) {\n    if (disabled || $el === null) {\n      return;\n    }\n\n    setInternalChecked(!internalChecked);\n    onChange && onChange(!internalChecked, e);\n\n    if (err) {\n      setErr(false);\n    } else {\n      setSuccessMsg('');\n    }\n  }, [err, internalChecked]);\n  var check = useCallback(function () {\n    var name = option.name,\n        check = option.check,\n        locale = option.locale,\n        required = option.required,\n        msgOnSuccess = option.msgOnSuccess;\n\n    if (!check) {\n      return;\n    }\n\n    if (!_message[\"default\"][locale] || !_message[\"default\"][locale][TYPE]) {\n      console.error(_const.REACT_INPUTS_VALIDATION_CUSTOM_ERROR_MESSAGE_EXAMPLE);\n      return;\n    }\n\n    if (required) {\n      var _msg = _message[\"default\"][locale][TYPE];\n      var nameText = name ? name : '';\n\n      if (!internalChecked) {\n        handleCheckEnd(true, _msg.unchecked(nameText));\n        return;\n      }\n    }\n\n    if (msgOnSuccess) {\n      setSuccessMsg(msgOnSuccess);\n    }\n\n    handleCheckEnd(false, msgOnSuccess);\n  }, [internalChecked]);\n  var handleCheckEnd = useCallback(function (err, message) {\n    var msg = message;\n    var msgOnError = option.msgOnError;\n\n    if (err && msgOnError) {\n      msg = msgOnError;\n    }\n\n    setErr(err);\n    setMsg(msg);\n    validationCallback && validationCallback(err);\n  }, []);\n  useEffect(function () {\n    /* istanbul ignore if because it won't happen */\n    if ($el === null) {\n      return;\n    }\n\n    if (tabIndex) {\n      $el.current.setAttribute('tabindex', String(tabIndex));\n    }\n  }, []);\n  useEffect(function () {\n    if (validate) {\n      check();\n    }\n  }, [validate, internalChecked]);\n  useEffect(function () {\n    setInternalChecked(checked);\n  }, [checked]);\n  useEffect(function () {\n    if (typeof prevInternalChecked !== 'undefined' && prevInternalChecked !== internalChecked) {\n      check();\n    }\n  }, [prevInternalChecked, internalChecked]);\n  useEffect(function () {\n    if (asyncObj) {\n      if (asyncObj.message) {\n        if (asyncObj.showOnError) {\n          handleCheckEnd(asyncObj.error, asyncObj.message);\n        }\n\n        if (!asyncObj.error && asyncObj.showOnSuccess) {\n          setSuccessMsg(asyncObj.message);\n        }\n      }\n    }\n  }, [asyncMsgObj]);\n  var wrapperClass = \"\".concat(_const.WRAPPER_CLASS_IDENTITIFIER, \" \").concat(classNameWrapper, \" \").concat(reactInputsValidationCss[\"\".concat(TYPE, \"__wrapper\")], \" \").concat(internalChecked && reactInputsValidationCss['checked'], \" \").concat(err && reactInputsValidationCss['error'], \" \").concat(successMsg !== '' && !err && reactInputsValidationCss['success'], \" \").concat(disabled && reactInputsValidationCss['disabled']);\n  var containerClass = \"\".concat(classNameContainer, \" \").concat(reactInputsValidationCss[\"\".concat(TYPE, \"__container\")], \" \").concat(internalChecked && reactInputsValidationCss['checked'], \" \").concat(err && reactInputsValidationCss['error'], \" \").concat(successMsg !== '' && !err && reactInputsValidationCss['success'], \" \").concat(disabled && reactInputsValidationCss['disabled']);\n  var boxClass = \"\".concat(classNameInputBox, \" \").concat(reactInputsValidationCss[\"\".concat(TYPE, \"__box\")], \" \").concat(err && reactInputsValidationCss['error'], \" \").concat(internalChecked && reactInputsValidationCss['checked'], \" \").concat(successMsg !== '' && !err && reactInputsValidationCss['success'], \" \").concat(disabled && reactInputsValidationCss['disabled']);\n  var labelClass = \"\".concat(internalChecked && reactInputsValidationCss['checked'], \" \").concat(err && reactInputsValidationCss['error'], \" \").concat(successMsg !== '' && !err && reactInputsValidationCss['success'], \" \").concat(disabled && reactInputsValidationCss['disabled']);\n  var errMsgClass = \"\".concat(_const.MSG_CLASS_IDENTITIFIER, \" \").concat(reactInputsValidationCss['msg'], \" \").concat(err && reactInputsValidationCss['error']);\n  var successMsgClass = \"\".concat(_const.MSG_CLASS_IDENTITIFIER, \" \").concat(reactInputsValidationCss['msg'], \" \").concat(!err && reactInputsValidationCss['success']);\n  var msgHtml;\n  var showMsg = option.showMsg;\n\n  if (showMsg && err && msg) {\n    msgHtml = React.createElement(\"div\", {\n      className: errMsgClass\n    }, msg);\n  }\n\n  if (showMsg && !err && successMsg !== '') {\n    msgHtml = React.createElement(\"div\", {\n      className: successMsgClass\n    }, successMsg);\n  }\n\n  return React.createElement(\"div\", {\n    ref: $input,\n    className: wrapperClass,\n    style: customStyleWrapper,\n    onClick: handleOnClick,\n    onBlur: handleOnBlur,\n    onFocus: handleOnFocus\n  }, React.createElement(\"div\", {\n    className: containerClass,\n    style: customStyleContainer\n  }, React.createElement(\"div\", {\n    className: boxClass,\n    style: customStyleInputBox\n  }, React.createElement(\"div\", {\n    className: reactInputsValidationCss['box']\n  }), React.createElement(\"input\", {\n    id: id,\n    name: name,\n    type: TYPE,\n    className: reactInputsValidationCss[\"\".concat(TYPE, \"__input\")],\n    value: String(value),\n    defaultChecked: internalChecked,\n    disabled: disabled,\n    onChange: handleOnChange\n  })), React.createElement(\"label\", {\n    className: labelClass\n  }, labelHtml)), msgHtml);\n};\n\nvar _default = memo(component);\n\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}